
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Python Version Support &#8212; Python Serverless Microframework for AWS 1.15.1 documentation</title><link rel="stylesheet" href="../_static/bootstrap-reboot.css" type="text/css" />
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom-tabs.css" type="text/css" />

    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript">
        function _scroll(subjectId) {
            var subjectElement = $(subjectId);
            var actualSubjectHeight = subjectElement.height();
            var startingPosition = subjectElement[0].getBoundingClientRect().top;
            return function() {
                var availableHeight = $(window).height() - startingPosition;
                // Subtract the scroll position to account for sticky movement.
                availableHeight += Math.min($(window).scrollTop(), 40);
                var cappedHeight = Math.min(actualSubjectHeight, availableHeight);
                if (subjectElement.css("height") !== cappedHeight) {
                    subjectElement.css("height", cappedHeight);
                }
            };
        }

        // Scroll and resize the the columns when scrolled.
        $(function() {
            var rightScroll = _scroll("#right-column > .column-body");
            var scrollFn = function() {
                rightScroll.call(this, arguments);
            };
            scrollFn();
            $(window).scroll(scrollFn);
            $(window).resize(scrollFn);
        });

        // Scroll spy to change highlighted navigation element.
        $(function() {
            var section = document.querySelectorAll(".section");
            var sections = {};
            var i = 0;
            Array.prototype.forEach.call(section, function(e) {
                sections[e.id] = e.offsetTop;
            });
            var scrollSpy = function() {
                var scrollPosition = document.documentElement.scrollTop || document.body.scrollTop;
                for (i in sections) {
                    if (sections[i] <= scrollPosition) {
                        $('#right-column .current').removeClass('current');
                        $("#right-column a[href='#" + i + "']").addClass('current');
                    }
                }
            };
            $(window).scroll(scrollSpy);
            scrollSpy();
        });
    </script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-168492171-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-168492171-3');
    </script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="AWS CloudFormation Support" href="cfn.html" />
    <link rel="prev" title="App Packaging" href="packaging.html" />
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


  </head><body>
    <header>
        <div class="header-flex width-wrapper">
            <div class="site-logo">
                <a href="../index.html">
		  <span class="logo-icon"><img src="../_static/img/chalice-logo-icon-small.png" /></span>
                </a>
            </div>

            <ul id="page-navigation">
                <li class="site-page first"><a href="../quickstart.html">Quick Start</a></li>
                <li class="site-page"><a href="../tutorials/index.html">Tutorials</a></li>
                <li class="site-page"><a href="index.html">Topics</a></li>
                <li class="site-page"><a href="../api.html">API Reference</a></li>
                <li class="site-page"><a href="https://github.com/aws/chalice">Code</a></li>
                <li class="site-search hidden-sm">
                    <form action="../search.html" method="get">
                        <input type="hidden" name="check_keywords" value="yes" />
                        <input type="hidden" name="area" value="default" />
                        <input class="search-input" autocomplete="off" type="search" name="q" placeholder="Search" />
                    </form>
                </li>
            </ul>
        </div>
    </header>
    
        
        
        <section id="page-container">
            <div class="width-wrapper flex">
                <article id="document-body">
                    
                    <ul class="rel-parents">
                    <li><a href="index.html" accesskey="U">Topics</a></li>
                    </ul>
                    
                    
  <div class="section" id="python-version-support">
<h1>Python Version Support<a class="headerlink" href="#python-version-support" title="Permalink to this headline">¶</a></h1>
<p>Chalice supports all versions of python supported by AWS Lambda, which is
currently <code class="docutils literal notranslate"><span class="pre">python2.7</span></code> and <code class="docutils literal notranslate"><span class="pre">python3.6</span></code>.</p>
<p>Chalice will automatically pick which version of python to use for Lambda
based on the major version of python you are using.  You don’t have to
explicitly configure which version of python you want to use. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python --version
Python 3.6.1
$ chalice new-project test-versions
$ cd test-versions
$ chalice package test-package
$ grep -C 3 python test-package/sam.json
    &quot;APIHandler&quot;: {
      &quot;Type&quot;: &quot;AWS::Serverless::Function&quot;,
      &quot;Properties&quot;: {
        &quot;Runtime&quot;: &quot;python3.6&quot;,
        &quot;Handler&quot;: &quot;app.app&quot;,
        &quot;CodeUri&quot;: &quot;./deployment.zip&quot;,
        &quot;Events&quot;: {

# Similarly, if we were to run &quot;chalice deploy&quot; we&#39;d
# use python3.6 for the runtime.
$ chalice --debug deploy
Initiating first time deployment...
Deploying to: dev
...
&quot;Runtime&quot;:&quot;python3.6&quot;
...
https://rest-api-id.execute-api.us-west-2.amazonaws.com/api/
</pre></div>
</div>
<p>In the example above, we’re using python 3.6.1 so chalice automatically
selects the <code class="docutils literal notranslate"><span class="pre">python3.6</span></code> runtime for lambda.  If we were using python 2.7.11,
chalice would automatically select <code class="docutils literal notranslate"><span class="pre">python2.7</span></code> as the runtime.</p>
<p>Chalice will emit a warning if the minor version does not match a python
version supported by Lambda.  Chalice will select the closest Lambda version
in this scenario, as shown in the table below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Local Python Version</th>
<th class="head">Lambda Python Runtime</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>python2.7.10</td>
<td>python2.7</td>
</tr>
<tr class="row-odd"><td>python2.7.11</td>
<td>python2.7</td>
</tr>
<tr class="row-even"><td>python2.7.12</td>
<td>python2.7</td>
</tr>
<tr class="row-odd"><td>python2.7.13</td>
<td>python2.7</td>
</tr>
<tr class="row-even"><td>python3.3.6</td>
<td>python3.6</td>
</tr>
<tr class="row-odd"><td>python3.4.6</td>
<td>python3.6</td>
</tr>
<tr class="row-even"><td>python3.5.3</td>
<td>python3.6</td>
</tr>
<tr class="row-odd"><td>python3.6.0</td>
<td>python3.6</td>
</tr>
<tr class="row-even"><td>python3.6.1</td>
<td>python3.6</td>
</tr>
</tbody>
</table>
<p>We strongly encourage you to develop your application using the same
major/minor version of python you plan on using on AWS Lambda.</p>
</div>
<div class="section" id="changing-python-runtime-versions">
<h1>Changing Python Runtime Versions<a class="headerlink" href="#changing-python-runtime-versions" title="Permalink to this headline">¶</a></h1>
<p>The version of the python runtime to use in AWS Lambda can be reconfigured
whenever you deploy your chalice app.  This allows you to migrate to python3
in AWS Lambda by creating a new virtual environment that uses python3.
For example, suppose you have an existing chalice app that uses python2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python --version
Python 2.7.12
$ chalice deploy
...
https://endpoint/api
</pre></div>
</div>
<p>To upgrade the application to use python3, create a python3 virtual environment
and redeploy.</p>
<dl class="docutils">
<dt>::</dt>
<dd>$ deactivate
$ python3 -m venv /tmp/venv3
$ source /tmp/venv3/bin/activate
$ python –version
Python 3.6.1
$ chalice deploy
…</dd>
</dl>
</div>


                    
                    <section class="relations">
                        
                        <a href="packaging.html" title="previous chapter" class="previous-page clearfix hidden-xs">← App Packaging</a>
                        
                        <a href="cfn.html" title="next chapter" class="next-page clearfix">AWS CloudFormation Support →</a>
                    </section>
                    
                </article><aside id="right-column" class="side-column hidden-sm">
                    <div class="column-body">
                        <section class="sidebar">
                            
                            <section class="next-previous">
                                
                                <a href="packaging.html" title="previous chapter" class="previous-page clearfix hidden-xs">← Prev</a>
                                
                                <a href="cfn.html" title="next chapter" class="next-page clearfix">Next →</a>
                            </section>
                            
                            <ul>
<li><a class="reference internal" href="#">Python Version Support</a></li>
<li><a class="reference internal" href="#changing-python-runtime-versions">Changing Python Runtime Versions</a></li>
</ul>

                        </section>
                    </div>
                </aside></div>
        </section>
        
    
<footer id="footer">
    <div class="width-wrapper">
        <div class="copyright">
            <p>©2020, Amazon Web Services, Inc or its affiliates. All rights reserved.</p>
        </div>
    </div>
</footer>
  </body>
</html>